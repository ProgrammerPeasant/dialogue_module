# –ú–æ–¥—É–ª—å –¥–∏–∞–ª–æ–≥–æ–≤ –¥–ª—è Unity

## –û–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ Unity —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞, –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤—ã–±–æ—Ä–∞ –æ—Ç–≤–µ—Ç–∞.

## –§—É–Ω–∫—Ü–∏–∏
- üìú –ü–ª–∞–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (—ç—Ñ—Ñ–µ–∫—Ç –ø–µ—á–∞—Ç–Ω–æ–π –º–∞—à–∏–Ω–∫–∏).
- üé≠ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏ –µ–≥–æ –ø–æ—Ä—Ç—Ä–µ—Ç–∞.
- üé≠ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤—ã–±–æ—Ä–∞ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏.
- üîä –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ –ø–µ—á–∞—Ç–∏ –ø—Ä–∏ –Ω–∞–±–æ—Ä–µ —Ç–µ–∫—Å—Ç–∞.
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –¥–∏–∞–ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ –º–∞—Å—Å–∏–≤ `DialogueStep`.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç `DialogManager.cs` –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç Unity.
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç `DialogManager` –≤ —Å—Ü–µ–Ω–µ –∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –∫ –Ω–µ–º—É —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç.
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ UI-—ç–ª–µ–º–µ–Ω—Ç—ã –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ, –¥–æ–±–∞–≤–∏–≤ —Å—Å—ã–ª–∫–∏ –Ω–∞:
   - `dialogueText` (TextMeshProUGUI) ‚Äî –ø–æ–ª–µ –¥–ª—è —Ç–µ–∫—Å—Ç–∞.
   - `characterName` (TextMeshProUGUI) ‚Äî –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
   - `characterImage` (Image) ‚Äî –ø–æ—Ä—Ç—Ä–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
   - `choicePanel` (GameObject) ‚Äî –ø–∞–Ω–µ–ª—å —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –≤—ã–±–æ—Ä–∞.
   - `choiceButtonPrefab` (GameObject) ‚Äî –ø—Ä–µ—Ñ–∞–± –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞.
   - `typingAudioSource` (AudioSource) ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–≤—É–∫–∞.
   - `typingSound` (AudioClip) ‚Äî –∑–≤—É–∫ –ø–µ—á–∞—Ç–Ω–æ–π –º–∞—à–∏–Ω–∫–∏.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –¥–∏–∞–ª–æ–≥–∞
–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–ª–æ–≥, –≤—ã–∑–æ–≤–∏—Ç–µ –º–µ—Ç–æ–¥ `StartDialogue()`:
```csharp
FindObjectOfType<DialogManager>().StartDialogue();
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤
–î–∏–∞–ª–æ–≥–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –º–∞—Å—Å–∏–≤ `DialogueStep` –≤ `DialogManager`. –ö–∞–∂–¥—ã–π —à–∞–≥ (`DialogueStep`) –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- `name` ‚Äî –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
- `text` ‚Äî —Ç–µ–∫—Å—Ç, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–π –Ω–∞ —ç–∫—Ä–∞–Ω–µ.
- `portrait` ‚Äî —Å–ø—Ä–∞–π—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
- `hasChoices` ‚Äî –µ—Å—Ç—å –ª–∏ —É —à–∞–≥–∞ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞.
- `choices` ‚Äî —Å–ø–∏—Å–æ–∫ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤—ã–±–æ—Ä–∞ (`DialogueChoice`).

–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞ –≤ `Inspector`:
```csharp
public DialogueStep[] dialogueSteps = new DialogueStep[]
{
    new DialogueStep { name = "–ì–µ—Ä–æ–π", text = "–ü—Ä–∏–≤–µ—Ç!", hasChoices = false },
    new DialogueStep { name = "–î—Ä—É–≥", text = "–ö–∞–∫ –¥–µ–ª–∞?", hasChoices = true, choices = new List<DialogueChoice>
    {
        new DialogueChoice { choiceText = "–•–æ—Ä–æ—à–æ", nextStepIndex = 2 },
        new DialogueChoice { choiceText = "–ü–ª–æ—Ö–æ", nextStepIndex = 3 }
    }}
};
```

### –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É
–î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É –≤—ã–∑—ã–≤–∞–π—Ç–µ –º–µ—Ç–æ–¥ `OnNextLine()` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∫–ª–∏–∫–µ):
```csharp
FindObjectOfType<DialogManager>().OnNextLine();
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Unity 2020+.
- TextMeshPro (–≤–∫–ª—é—á–µ–Ω –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞–∫–µ—Ç Unity UI).

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ issue –∏–ª–∏ pull request –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞! üéÆ

